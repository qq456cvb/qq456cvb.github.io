<!doctype html>
<html lang="en">
<head>
    <title>Data View</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="%description%" />
    <meta name="keywords" content="" />
    <meta name="author" content="ComponentOne" />
    <style type="text/css">
        #wijpiechart {
            width: 756px;
            height: 475px;
        }
    </style>
    <link href="../../../../Themes/rocket/jquery-wijmo.css" rel="stylesheet" type="text/css" />
    <link href="../../../../css/jquery.wijmo-pro.all.3.20141.38.min.css" rel="stylesheet" type="text/css" />
    <script src="../../js/require.js" type="text/javascript"></script>
    <script src="../../js/require.wijmo.config.js" type="text/javascript"></script>
    <script id="scriptInit" type="text/javascript">
        require(["wijmo.wijpiechart", "wijmo.data", "knockout.wijmo"], function () {
            var viewModel;

            var data = [{
                Device: 'Oil',
                Percent: 18.6,
                Offset: 15
            }, {
                Device: 'Machines',
                Percent: 13.5
            }, {
                Device: 'Electronics',
                Percent: 12.7
            }, {
                Device: 'Vehicles',
                Percent: 10.5
            }, {
                Device: 'Medical, technical equipment',
                Percent: 3
            }, {
                Device: 'Other',
                Percent: 41.7
            }];

            function ViewModel(sessionId) {
                var productView = new wijmo.data.ArrayDataView(data);
                this.data = productView.toObservableArray();
            }

            function bind() {
                $(document).ready(function () {
                    viewModel = new ViewModel();
                    ko.applyBindings(viewModel, $(".container").get(0));
                });
            }


            $.support.cors = true;

            if (ko.dependencyDetection) {
                ko.dependencyDetection.ignore(bind);
            } else {
                bind();
            }
        });
    </script>
</head>
<body class="demo-single">
    <div class="container">
        <div class="header">
            <h2>Dataview</h2>
        </div>
        <div class="main demo">
            <!-- Begin demo markup -->
            <div id="wijpiechart" class="ui-widget ui-widget-content ui-corner-all" data-bind="wijpiechart: {
    dataSource: data,
    data: {
        label: { bind: 'Device' },
        value: { bind: 'Percent' },
        offset: { bind: 'Offset' }
    },
    radius: 180,
    legend: { visible: true },
    hint: {
        content: function () {
            return this.data.label + ' : ' + Globalize.format(this.value / this.total, 'p2');
        }
    },
    header: {
        text: 'Top US Imports (2012)'
    }
}">
            </div>
            <!-- End demo markup -->
            <div class="demo-options">
                <!-- Begin options markup -->
                <!-- End options markup -->
            </div>
        </div>
        <div class="footer demo-description">

            <p>This sample shows how to create a pie chart using an array as the data source for the chart.</p>

        </div>
    </div>
</body>
</html>
